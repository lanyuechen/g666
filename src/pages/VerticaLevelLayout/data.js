const data = [
  ["", "", "100GE1/0/20", "10.122.242.200", "100GE1/0/20", "0.0.0.0"],
  ["110.118.5.159", "10.118.101.159-eth10-NIC-HDR1", "100GE1/0/21", "10.122.242.200"],
  ["110.118.5.160", "10.118.101.160-eth10-NIC-HDR1", "100GE1/0/22", ""],
  ["110.118.5.161", "10.118.101.161-eth10-NIC-HDR1", "100GE1/0/23", ""],
  ["110.118.5.162", "10.118.101.162-eth10-NIC-HDR1", "100GE1/0/24", ""],
  // ["110.118.5.163", "10.118.101.163-eth10-NIC-HDR1", "100GE1/0/25", ""],
  // ["110.118.5.164", "10.118.101.164-eth10-NIC-HDR1", "100GE1/0/26", ""],
  // ["110.118.5.165", "10.118.101.165-eth10-NIC-HDR1", "100GE1/0/27", ""],
  // ["110.118.5.166", "10.118.101.166-eth10-NIC-HDR1", "100GE1/0/28", ""],
  // ["110.118.5.167", "10.118.101.167-eth10-NIC-HDR1", "100GE1/0/29", ""],
  // ["110.118.5.168", "10.118.101.168-eth10-NIC-HDR1", "100GE1/0/30", ""],
  // ["110.118.5.169", "10.118.101.169-eth10-NIC-HDR1", "100GE1/0/31", ""],
  // ["110.118.5.170", "10.118.101.170-eth10-NIC-HDR1", "100GE1/0/32", ""],
  // ["110.118.5.171", "10.118.101.171-eth10-NIC-HDR1", "400GE1/0/1", ""],
  // ["110.118.5.172", "10.118.101.172-eth10-NIC-HDR1", "400GE1/0/2", ""],
  // ["110.118.5.173", "10.118.101.173-eth10-NIC-HDR1", "400GE1/0/3", ""],
  // ["110.118.5.174", "10.118.101.174-eth10-NIC-HDR1", "400GE1/0/4", ""],
  // ["110.118.5.175", "10.118.101.175-eth10-NIC-HDR1", "400GE1/0/5", ""],
  // ["110.118.5.176", "10.118.101.176-eth10-NIC-HDR1", "400GE1/0/6", ""],
  // ["110.118.5.177", "10.118.101.177-eth10-NIC-HDR1", "400GE1/0/7", ""],
  // ["110.118.5.178", "10.118.101.178-eth10-NIC-HDR1", "400GE1/0/8", ""],
  ["", "", "100GE1/0/20", "10.122.242.201", "100GE1/0/21", "0.0.0.0"],
  ["110.118.5.159", "10.118.133.159-eth11-NIC-HDR2", "100GE1/0/21", "10.122.242.201"],
  ["110.118.5.160", "10.118.133.160-eth11-NIC-HDR2", "100GE1/0/22", ""],
  ["110.118.5.161", "10.118.133.161-eth11-NIC-HDR2", "100GE1/0/23", ""],
  // ["110.118.5.162", "10.118.133.162-eth11-NIC-HDR2", "100GE1/0/24", ""],
  // ["110.118.5.163", "10.118.133.163-eth11-NIC-HDR2", "100GE1/0/25", ""],
  // ["110.118.5.164", "10.118.133.164-eth11-NIC-HDR2", "100GE1/0/26", ""],
  // ["110.118.5.165", "10.118.133.165-eth11-NIC-HDR2", "100GE1/0/27", ""],
  // ["110.118.5.166", "10.118.133.166-eth11-NIC-HDR2", "100GE1/0/28", ""],
  // ["110.118.5.167", "10.118.133.167-eth11-NIC-HDR2", "100GE1/0/29", ""],
  // ["110.118.5.168", "10.118.133.168-eth11-NIC-HDR2", "100GE1/0/30", ""],
  // ["110.118.5.169", "10.118.133.169-eth11-NIC-HDR2", "100GE1/0/31", ""],
  // ["110.118.5.170", "10.118.133.170-eth11-NIC-HDR2", "100GE1/0/32", ""],
  // ["110.118.5.171", "10.118.133.171-eth11-NIC-HDR2", "400GE1/0/1", ""],
  // ["110.118.5.172", "10.118.133.172-eth11-NIC-HDR2", "400GE1/0/2", ""],
  // ["110.118.5.173", "10.118.133.173-eth11-NIC-HDR2", "400GE1/0/3", ""],
  // ["110.118.5.174", "10.118.133.174-eth11-NIC-HDR2", "400GE1/0/4", ""],
  // ["110.118.5.175", "10.118.133.175-eth11-NIC-HDR2", "400GE1/0/5", ""],
  // ["110.118.5.176", "10.118.133.176-eth11-NIC-HDR2", "400GE1/0/6", ""],
  // ["110.118.5.177", "10.118.133.177-eth11-NIC-HDR2", "400GE1/0/7", ""],
  // ["110.118.5.178", "10.118.133.178-eth11-NIC-HDR2", "400GE1/0/8", ""],
]

const parseData = (data) => {
  const nodes = [];
  const edges = [];
  const combos = {};

  let lastSwitch = '';
  data.forEach(([host, nc, port, sw, port0, sw0]) => {
    lastSwitch = sw || lastSwitch;

    if (sw0) {
      nodes.push({
        id: `${sw0}-${port0}`,
        label: port0,
        comboId: sw0,
        group: sw0,
        style: {
          fill: 'orange',
          stroke: 'orange',
          fillOpacity: 0.2,
        },
      },
      {
        id: `${lastSwitch}-${port}`,
        label: port,
        comboId: lastSwitch,
        group: lastSwitch,
        style: {
          fill: 'orange',
          stroke: 'orange',
          fillOpacity: 0.2,
        },
      });
      combos[sw0] = {
        id: sw0,
        level: 0,
        label: sw0,
        padding: [30, 20, 20, 20],
      }
      edges.push({
        source: `${sw0}-${port0}`,
        target: `${lastSwitch}-${port}`,
      });
      return;
    }

    nodes.push({
      id: `${host}-${nc}`,
      label: nc.match(/eth\d+/i)[0] || nc,
      comboId: host,
      group: host,
    });

    nodes.push({
      id: `${lastSwitch}-${port}`,
      label: port,
      comboId: lastSwitch,
      group: lastSwitch,
    });

    edges.push({
      source: `${host}-${nc}`,
      target: `${lastSwitch}-${port}`,
    });

    combos[host] = {
      id: host,
      level: 2,
      label: host,
      padding: [30, 20, 20, 20],
    }

    combos[lastSwitch] = {
      id: lastSwitch,
      level: 1,
      label: lastSwitch,
      padding: [30, 20, 20, 20],
    }
  });

 return { nodes, edges, combos: Object.values(combos) };
}

export default parseData(data);